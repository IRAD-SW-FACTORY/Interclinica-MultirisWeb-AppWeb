"use strict";var INVOXMDComponent_Bar=(()=>{var K=Object.defineProperty;var te=Object.getOwnPropertyDescriptor;var ie=Object.getOwnPropertyNames;var ne=Object.prototype.hasOwnProperty;var re=(s,t)=>{for(var e in t)K(s,e,{get:t[e],enumerable:!0})},se=(s,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ie(t))!ne.call(s,n)&&n!==e&&K(s,n,{get:()=>t[n],enumerable:!(i=te(t,n))||i.enumerable});return s};var oe=s=>se(K({},"__esModule",{value:!0}),s);var ae={};re(ae,{author:()=>J,commit:()=>Y,create:()=>ee,license:()=>Z,productName:()=>j,version:()=>W});var j="INVOX Medical",W="2.8.1.4793",Y="59b15ef8e7a46145751d7dc304be268b46c377db",Z="Commercial Software",J="Vócali Sistemas Inteligentes";var o=class{static getElement(t){return document.getElementById(t)}static existsElement(t){return o.getElement(t)!==null}static removeElement(t){var e;o.existsElement(t)&&((e=o.getElement(t))==null||e.remove())}};var l=class{static getLangResources(){let t=new INVOX.I18nService,e=INVOX.GetCurrentLang();return t.getResources(e)}};var a=class extends o{constructor(e=void 0){super();this._langResources=e}initComponent(){}create(e){}destroy(){this.componentWillUnmount()}componentDidMount(){}componentWillUnmount(){}setBehaviour(e){}addEvent(e,i,n,r=!1){e.addEventListener?e.addEventListener(i,n,r):e.attachEvent?e.attachEvent("on"+i,n):e["on"+i]=n}removeEvent(e,i,n){e.removeEventListener&&e.removeEventListener(i,n)}};var u=class extends a{setClass(e){this._class=e}setNextView(e){this._nextView=e}next(){this._nextView()}create(e){var r;let i=document.createElement("div");i.setAttribute("class",`${this._class} invox-bar__layer`),this.createContent().forEach(d=>i.appendChild(d)),(r=o.getElement(e))==null||r.appendChild(i)}createContent(){return[]}};var M=class extends a{constructor(){super(...arguments);this.RESTORE_DELAY=2500}setOnErrorCallback(e){return this._onErrorCallback=e,this}setOnMicrophoneConnectedCallback(e){return this._onMicrophoneConnectedCallback=e,this}setOnMicrophoneDisconnectedCallback(e){return this._onMicrophoneDisconnectedCallback=e,this}create(){this._statusMessageElement=document.createElement("label"),this._statusMessageElement.setAttribute("class","invox-bar__statusbar-message invox-bar__hypothesis-follower");let e=document.createElement("div");return e.setAttribute("class","invox-bar__statusbar-container"),e.appendChild(this._statusMessageElement),this.customizeStatusbar(),e}customizeStatusbar(){INVOX.OnChangeStatusBar((e,i)=>this.printStatus(e,i)),INVOX.OnChangeVisorHypothesis((e,i)=>!this.isSessionDisconnected()&&this.printHypothesis(e)),INVOX.DeviceActionManager[INVOX.deviceActionId.DEVICE_ADDED]=()=>!this.isSessionDisconnected()&&this.printMicrophoneConnected(),INVOX.DeviceActionManager[INVOX.deviceActionId.DEVICE_REMOVED]=()=>!this.isSessionDisconnected()&&this.printMicrophoneDisconnected()}isSessionDisconnected(){let e=INVOX.GetCurrentSession();return e?e.isDisconnected():!0}printStatus(e,i=INVOX.StatusMessageTypeEnum.INFO){let n=e;i===INVOX.StatusMessageTypeEnum.ERROR&&(INVOX.LogError(`Status error: ${e}`),this._onErrorCallback(),e=this.removeBreakLines(e)),this._statusMessageElement.innerText=e,this._statusMessageElement.title=n,this._statusMessageElement.style.fontStyle="normal"}printHypothesis(e){let i=this.keepBreakLines(e);this._isHypothesisInStatusbar=!0,this._statusMessageElement.innerText=i,this._statusMessageElement.title=e,this._statusMessageElement.style.fontStyle="italic",this.isTextOverflown(this._statusMessageElement)?this.enableHypothesisFollower(this._statusMessageElement):this.disableHypothesisFollower(this._statusMessageElement),this.restoreStatusbarMessage()}printMicrophoneConnected(){let e=`Microphone ${INVOX.GetMicrophoneName()} connected`;this._statusMessageElement.innerText=e,this._statusMessageElement.title=e,this._onMicrophoneConnectedCallback(),this.restoreStatusbarMessage()}printMicrophoneDisconnected(){let e="Microphone disconnected";this._statusMessageElement.innerText=e,this._statusMessageElement.title=e,this._onMicrophoneDisconnectedCallback(),setTimeout(()=>{e=`Microphone ${INVOX.GetMicrophoneName()} connected`,this._statusMessageElement.innerText=e,this._statusMessageElement.title=e,this._onMicrophoneConnectedCallback(),this.restoreStatusbarMessage()},1500)}async restoreStatusbarMessage(e=this.RESTORE_DELAY){clearTimeout(this.delayTimeout),this.delayTimeout=setTimeout(()=>{INVOX.UpdateStatusBarToCurrentScope(),this._statusMessageElement.style.fontStyle="normal",this.disableHypothesisFollower(this._statusMessageElement),this._isHypothesisInStatusbar=!1},e)}isTextOverflown(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}enableHypothesisFollower(e){!e.classList.contains("active")&&e.classList.add("active")}disableHypothesisFollower(e){e.classList.contains("active")&&e.classList.remove("active")}handleStartedAdaptation(e){this.printAdaptationMessage(e)}handleRejectedAdaptation(e){}handleFinishedAdaptation(e){this.printAdaptationMessage(e)}handleErrorAdaptation(e){this.printAdaptationMessage(e,INVOX.StatusMessageTypeEnum.ERROR)}printAdaptationMessage(e,i=INVOX.StatusMessageTypeEnum.INFO){this._isHypothesisInStatusbar||(this.printStatus(e,i),this.restoreStatusbarMessage())}removeBreakLines(e){return this.replaceBreakLines(e,"")}keepBreakLines(e){return this.replaceBreakLines(e,"↲ ")}replaceBreakLines(e,i){return e.replace(/(\r\n|\n)/g,i)}};var m=class extends a{constructor(){super();this._tooltip="";this._icon="";this._classList=[];this._callback=()=>{};this._classList=["invox-bar__button"]}setTooltip(e){return this._tooltip=e,this}setIcon(e){return this._icon=e,this}addClass(e){this._classList.push(e)}setCallback(e){return this._callback=e,this}create(){let e=this.createElement();return this.addEvent(e,"click",()=>this.setBehaviour(e)),e}createElement(){let e=document.createElement("button");return this._classList&&this._classList.length>0&&this._classList.forEach(i=>e.classList.add(i)),this._tooltip&&(e.title=this._tooltip),this._icon&&(e.innerHTML=this._icon),e}setBehaviour(e){this._callback()}};var C=class extends m{constructor(){super();this.initComponent()}initComponent(){this.addClass("invox-bar__microphone-button"),this.setCallback(()=>this.switchDictation())}create(){return this._buttonElement=this.createElement(),this.addEvent(this._buttonElement,"click",()=>this.setBehaviour(this._buttonElement)),this.changeMicrophoneDisabled(),this._buttonElement}switchDictation(){this.hasMicrophoneAccess()&&INVOX.SwitchDictation()}hasMicrophoneAccess(){return INVOX.GetCurrentSession().getAudioSource().Status!==INVOX.audioStatus.NOT_ACCESS}isSessionDisconnected(){return INVOX.GetCurrentSession().isDisconnected()}changeMicrophoneRunning(){if(!this.hasMicrophoneAccess()){this.changeMicrophoneDisabled();return}this._buttonElement.title=`${l.getLangResources().MICROPHONE_ACTIONS.LISTENING}: ${INVOX.GetMicrophoneName()}`,this._buttonElement.innerHTML=`
            ${`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-mic-fill invox-bar-icon__mic-on" viewBox="0 0 16 16">
            <path d="M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0V3z"/>
            <path d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"/>
        </svg>
    `}
            <span class="invox-bar__microphone-running-effect"></span>
        `,this._buttonElement.classList.remove("disabled"),this._buttonElement.disabled=!1}changeMicrophonePaused(){if(!this.hasMicrophoneAccess()||this.isSessionDisconnected()){this.changeMicrophoneDisabled();return}this._buttonElement.title=`${l.getLangResources().MICROPHONE_ACTIONS.PAUSED}: ${INVOX.GetMicrophoneName()}`,this._buttonElement.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-mic-fill invox-bar-icon__mic-off" viewBox="0 0 16 16">
            <path d="M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4.02 4.02 0 0 0 12 8V7a.5.5 0 0 1 1 0v1zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a4.973 4.973 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4zm3-9v4.879L5.158 2.037A3.001 3.001 0 0 1 11 3z"/>
            <path d="M9.486 10.607 5 6.12V8a3 3 0 0 0 4.486 2.607zm-7.84-9.253 12 12 .708-.708-12-12-.708.708z"/>
        </svg>
    `,this._buttonElement.classList.remove("disabled"),this._buttonElement.disabled=!1}changeMicrophoneDisabled(){this._buttonElement.title=l.getLangResources().MICROPHONE_ACTIONS.NOT_ACCESS,this._buttonElement.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-mic-mute-fill invox-bar-icon__mic-unavailable" viewBox="0 0 16 16">
            <path d="M13 8c0 .564-.094 1.107-.266 1.613l-.814-.814A4.02 4.02 0 0 0 12 8V7a.5.5 0 0 1 1 0v1zm-5 4c.818 0 1.578-.245 2.212-.667l.718.719a4.973 4.973 0 0 1-2.43.923V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 1 0v1a4 4 0 0 0 4 4zm3-9v4.879L5.158 2.037A3.001 3.001 0 0 1 11 3z"/>
            <path d="M9.486 10.607 5 6.12V8a3 3 0 0 0 4.486 2.607zm-7.84-9.253 12 12 .708-.708-12-12-.708.708z"/>
        </svg>
    `,this._buttonElement.classList.add("disabled"),this._buttonElement.disabled=!0}};var L=class extends a{create(){this._innerBarsElement=document.createElement("label"),this._innerBarsElement.setAttribute("class","invox-bar__vumeter-bars"),this._innerBarsElement.innerText="||||||||||||||||||||||||||||||||";let e=document.createElement("div");e.setAttribute("class","invox-bar__vumeter-bars-cover");let i=document.createElement("div");return i.setAttribute("class","invox-bar__vumeter-container"),i.appendChild(this._innerBarsElement),i.appendChild(e),this.customizeVumeter(e,i),i}customizeVumeter(e,i){INVOX.OnUpdateVumeterMicActivity(function(n){let r=`${100-n}%`;e.style.width=r})}setActive(){this._innerBarsElement.classList.add("active")}setInactive(){this._innerBarsElement.classList.remove("active")}};var x=class extends a{create(){let e=document.createElement("div");return e.setAttribute("class","invox-bar__recognizer-container"),this._microphoneButtonElement=new C,this._vumeterElement=new L,e.appendChild(this._microphoneButtonElement.create()),e.appendChild(this._vumeterElement.create()),this.customizeRecognizer(),e}setPaused(){this._microphoneButtonElement.changeMicrophonePaused(),this._vumeterElement.setInactive()}setRunning(){this._microphoneButtonElement.changeMicrophoneRunning(),this._vumeterElement.setActive()}setDisabled(){this._vumeterElement.setInactive(),this._microphoneButtonElement.changeMicrophoneDisabled()}customizeRecognizer(){INVOX.OnGrantedAudioSource(()=>{INVOX.LogInfo("Audio permissions granted"),this.setPaused()}),INVOX.OnDeniedAudioSource(()=>{INVOX.LogWarn("Audio permissions denied"),this.setDisabled()}),INVOX.OnPausedRecognizer(()=>{INVOX.LogInfo("Dictation paused"),this.setPaused()}),INVOX.OnRunningRecognizer(()=>{INVOX.LogInfo("Dictation running..."),this.setRunning()}),INVOX.OnErrorRecognizer(()=>{INVOX.LogFatal("An error occurred in the recognizer engine. Dictation is not available"),this.setDisabled()})}};var _=class extends a{create(){let t=document.createElement("span");return t.setAttribute("class","invox-bar__product-brand"),t.innerHTML=`<label>${INVOX.productName}</label> ${`
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 84.7 84.9" class="invox-dialog-icon__brand">
            <g>
                <path d="M49.9,1.8H34.7C16.3,1.8,1.3,16.7,1.3,35.1v15.3c0,18.4,14.9,33.3,33.4,33.3h15.2c18.4,0,33.3-14.9,33.3-33.3V35.1C83.3,16.7,68.3,1.8,49.9,1.8z M68.9,47.7c0,12-9.7,21.7-21.7,21.7h-9.9c-0.9,0-1.8-0.1-2.7-0.2c-3.3,3.3-7.2,5.6-10.6,6.4c2.5-2.2,4.7-4.8,5.9-7.5c-8.4-3-14.4-11-14.4-20.4v-9.9c0-12,9.7-21.7,21.7-21.7h9.9c12,0,21.7,9.7,21.7,21.7V47.7z"/>
                <path d="M29,45.2v-4.9c0-6,4.8-10.8,10.8-10.8h5c6,0,10.8,4.8,10.8,10.8v4.9c0,6-4.8,10.8-10.8,10.8h-5C33.8,56,29,51.2,29,45.2"/>
            </g>
        </svg>
    `}`,t}};var I=class extends a{constructor(){super();this._menuOptionList=[]}create(){let e=this.createMenu(),i=new m().setIcon(`
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 84.7 84.9" class="invox-bar-icon__brand">
            <g>
                <path d="M49.9,1.8H34.7C16.3,1.8,1.3,16.7,1.3,35.1v15.3c0,18.4,14.9,33.3,33.4,33.3h15.2c18.4,0,33.3-14.9,33.3-33.3V35.1C83.3,16.7,68.3,1.8,49.9,1.8z M68.9,47.7c0,12-9.7,21.7-21.7,21.7h-9.9c-0.9,0-1.8-0.1-2.7-0.2c-3.3,3.3-7.2,5.6-10.6,6.4c2.5-2.2,4.7-4.8,5.9-7.5c-8.4-3-14.4-11-14.4-20.4v-9.9c0-12,9.7-21.7,21.7-21.7h9.9c12,0,21.7,9.7,21.7,21.7V47.7z"/>
                <path d="M29,45.2v-4.9c0-6,4.8-10.8,10.8-10.8h5c6,0,10.8,4.8,10.8,10.8v4.9c0,6-4.8,10.8-10.8,10.8h-5C33.8,56,29,51.2,29,45.2"/>
            </g>
        </svg>
    `).setCallback(()=>this.triggerHoverEffect(i)).create(),n=document.createElement("div");return n.setAttribute("class","invox-bar__dropdown-menu"),n.appendChild(i),n.appendChild(e),n}triggerHoverEffect(e){let i=new Event("mouseover");e.dispatchEvent(i)}createMenu(){let e=this.createHeader(),i=this.createFooter(),n=document.createElement("div");return n.setAttribute("class","invox-bar__dropdown-menu-content"),n.appendChild(e),this._menuOptionList.forEach(r=>n.appendChild(r)),n.appendChild(i),n}createHeader(){let e=document.createElement("div");return e.setAttribute("class","invox-bar__dropdown-menu-content-header"),e.appendChild(new _().create()),e}createFooter(){let e=document.createElement("div");return e.setAttribute("class","invox-bar__dropdown-menu-content-footer"),e}createMenuOptionButton(e,i,n){let r=document.createElement("button");return r.setAttribute("class","invox-bar__dropdown-menu-option"),r.innerHTML=`${i} ${e}`,this.addEvent(r,"click",n),r}addOption(e,i,n){let r=this.createMenuOptionButton(e,i,()=>n());return this._menuOptionList.push(r),this}};var O=class extends a{constructor(){super();this._buttons=[],this.initComponent()}create(){let e=document.createElement("div");return e.setAttribute("class","invox-bar__button-group"),this._buttons&&this._buttons.forEach(i=>e.appendChild(i)),e}addChild(e){this._buttons.push(e)}hasAnyButton(){return this._buttons&&this._buttons.length>0}};var y=class extends O{setDictionaryButton(t){let e=l.getLangResources().DICTIONARY_ACTIONS.TITLE,i=this.createButton(`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-journal-bookmark invox-bar-icon__dictionary" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M6 8V1h1v6.117L8.743 6.07a.5.5 0 0 1 .514 0L11 7.117V1h1v7a.5.5 0 0 1-.757.429L9 7.083 6.757 8.43A.5.5 0 0 1 6 8z"/>
            <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"/>
            <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"/>
        </svg>
    `,e,()=>t());this.addChild(i)}setTemplatesButton(t){let e=l.getLangResources().TEMPLATES_ACTIONS.TITLE,i=this.createButton(`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-file-medical invox-bar-icon__templates" viewBox="0 0 16 16">
            <path d="M8.5 4.5a.5.5 0 0 0-1 0v.634l-.549-.317a.5.5 0 1 0-.5.866L7 6l-.549.317a.5.5 0 1 0 .5.866l.549-.317V7.5a.5.5 0 1 0 1 0v-.634l.549.317a.5.5 0 1 0 .5-.866L9 6l.549-.317a.5.5 0 1 0-.5-.866l-.549.317V4.5zM5.5 9a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 2a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5z"/>
            <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1z"/>
        </svg>
    `,e,()=>t());this.addChild(i)}setTransformationsButton(t){let e=l.getLangResources().TRANSFORMATIONS_ACTIONS.TITLE,i=this.createButton(`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-arrow-return-right invox-bar-icon__transformations" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M1.5 1.5A.5.5 0 0 0 1 2v4.8a2.5 2.5 0 0 0 2.5 2.5h9.793l-3.347 3.346a.5.5 0 0 0 .708.708l4.2-4.2a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 8.3H3.5A1.5 1.5 0 0 1 2 6.8V2a.5.5 0 0 0-.5-.5z"/>
        </svg>
    `,e,()=>t());this.addChild(i)}createButton(t,e,i){return new m().setIcon(t).setTooltip(e).setCallback(()=>i()).create()}};var T=class extends HTMLElement{constructor(){super();this._isAdaptationInProcess=!1,this._listeners=[]}static get observedAttributes(){return["on-started-tooltip","on-finished-tooltip","on-error-tooltip","on-rejected-tooltip"]}setListeners(e){this._listeners=e}connectedCallback(){this.render()}render(){this.hidden=!0,this.innerHTML=`
            <div class="invox-bar__button invox-bar__adaptation-status">
                <span class="invox-loader__spinner">
                    <span class="invox-loader__inner-icon"></span>
                </span>
            </div>
        `,INVOX.OnRejectAdaptation(e=>{if(this._isAdaptationInProcess)return;let i=this.getAttribute("on-rejected-tooltip")||"";this._listeners.forEach(n=>{n.handleRejectedAdaptation&&n.handleRejectedAdaptation(i)})}),INVOX.OnStartAdaptation(e=>{if(this._isAdaptationInProcess)return;let i=this.getAttribute("on-started-tooltip")||"";this._listeners.forEach(n=>{n.handleStartedAdaptation&&n.handleStartedAdaptation(i)}),this._isAdaptationInProcess=!0,this.setShowAnimation(),this.title=i}),INVOX.OnFinishAdaptation((e,i)=>{let{duration:n}=i;if(n<=0){clearTimeout(this._showTimeout),this.hideElement(),this.restartStyles();return}let r=this.getAttribute("on-finished-tooltip")||"";this._listeners.forEach(d=>{d.handleFinishedAdaptation&&d.handleFinishedAdaptation(r)}),this.title=r,this.setFinishedAnimation().then(()=>{this._isAdaptationInProcess=!1,this.setHideAnimation()})}),INVOX.OnErrorAdaptation(e=>{let i=this.getAttribute("on-error-tooltip")||"";this._listeners.forEach(n=>{n.handleErrorAdaptation&&n.handleErrorAdaptation(i)}),this.title=i,this.setErrorAnimation().then(()=>{this._isAdaptationInProcess=!1,this.setHideAnimation()})})}restartStyles(){this.title="";let e=document.querySelector(".invox-loader__spinner");e==null||e.classList.remove("finished");let i=document.querySelector(".invox-loader__inner-icon");i==null||i.classList.remove("draw-checkmark");let n=document.querySelector(".invox-bar__adaptation-status");n==null||n.classList.remove("invox-bar__animation--fadeout"),n==null||n.classList.remove("finished")}showElement(){this.hidden=!1}hideElement(){this.hidden=!0}setHideAnimation(){this.startHideAnimation().then(()=>{this.hideElement()})}setShowAnimation(){this._showTimeout=setTimeout(()=>{this.showElement(),this.startShowAnimation()},1*1e3)}startHideAnimation(){return new Promise(e=>{let n=document.querySelector(".invox-bar__adaptation-status");n==null||n.classList.remove("invox-bar__animation--fadein"),n==null||n.classList.add("invox-bar__animation--fadeout"),setTimeout(()=>{this.restartStyles(),e()},2.3*1e3)})}startShowAnimation(){this.classList.add("invox-bar__animation--fadein")}setFinishedAnimation(){return new Promise(e=>{let n=document.querySelector(".invox-bar__adaptation-status");n==null||n.classList.add("finished");let r=document.querySelector(".invox-loader__spinner");r==null||r.classList.add("finished");let d=document.querySelector(".invox-loader__inner-icon");d==null||d.classList.add("draw-checkmark"),setTimeout(()=>{e()},8*1e3)})}setErrorAnimation(){return new Promise(e=>{let n=document.querySelector(".invox-bar__adaptation-status");n==null||n.classList.add("error");let r=document.querySelector(".invox-loader__spinner");r==null||r.classList.add("finished");let d=document.querySelector(".invox-loader__inner-icon");d==null||d.classList.add("draw-exclamation"),setTimeout(()=>{e()},8*1e3)})}};var D=class extends u{constructor(e,i){super(e);this._viewManager=i,this.initComponent()}initComponent(){this.setClass("invox-bar__home-view"),this.setNextView(()=>this._viewManager.printSplashScreenView())}setDictionaryBuilder(e){this._dictionaryViewBuilder=e}setTemplatesBuilder(e){this._templatesViewBuilder=e}setTransformationsBuilder(e){this._transformationsViewBuilder=e}setAboutViewBuilder(e){this._aboutViewBuilder=e}setProfileViewBuilder(e){this._profileViewBuilder=e}createContent(){let e=[],i=new x,n=new M().setOnErrorCallback(()=>i.setDisabled()).setOnMicrophoneConnectedCallback(()=>i.setPaused()).setOnMicrophoneDisconnectedCallback(()=>i.setDisabled());this.buildDictionaryView(),this.buildTemplatesView(),this.buildTransformationsView(),this.buildProfileView(),this.buildAboutView();let r=this.createDialogsButtons(),d=this.createAdaptationStatus([n]),V=this.createDropdownMenu();return e.push(i.create()),e.push(n.create()),r.hasAnyButton()&&e.push(r.create()),e.push(d),e.push(V),e}buildDictionaryView(){this._dictionaryViewBuilder&&(this._dictionaryView=this._dictionaryViewBuilder(this._viewManager.getContainerId()))}buildTemplatesView(){this._templatesViewBuilder&&(this._templatesView=this._templatesViewBuilder(this._viewManager.getContainerId()))}buildTransformationsView(){this._transformationsViewBuilder&&(this._transformationsView=this._transformationsViewBuilder(this._viewManager.getContainerId()))}buildProfileView(){this._profileViewBuilder&&(this._profileView=this._profileViewBuilder(this._viewManager.getContainerId()))}buildAboutView(){this._aboutViewBuilder&&(this._aboutView=this._aboutViewBuilder(this._viewManager.getContainerId()))}createAdaptationStatus(e){let i=l.getLangResources(),n=document.createElement("invox-adaptation-spinner");return n.setAttribute("on-started-tooltip",i.ADAPTATION.STARTED),n.setAttribute("on-finished-tooltip",i.ADAPTATION.FINISHED),n.setAttribute("on-error-tooltip",i.ADAPTATION.ERROR),n.setAttribute("on-rejected-tooltip",i.ADAPTATION.REJECTED),n.setListeners(e),n}createDialogsButtons(){let e=new y;return this._dictionaryView&&e.setDictionaryButton(()=>this._dictionaryView.show()),this._templatesView&&e.setTemplatesButton(()=>this._templatesView.show()),this._transformationsView&&e.setTransformationsButton(()=>this._transformationsView.show()),e}createDropdownMenu(){let e=l.getLangResources(),i=new I;return this._profileView&&i.addOption(`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-person-circle invox-bar-icon__profile" viewBox="0 0 16 16">
            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
        </svg>
    `,e.PROFILE_ACTIONS.TITLE,()=>this._profileView.show()),this.tryGetUserGuideHelpUrl()!==""&&i.addOption(`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-question-circle invox-bar-icon__help" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"/>
        </svg>
    `,e.HELP_ACTIONS.TITLE,()=>this.redirectHelpGuide()),INVOX.GetSupportUrl()!==""&&i.addOption(`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-headset invox-bar-icon__support" viewBox="0 0 16 16">
            <path d="M8 1a5 5 0 0 0-5 5v1h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6a6 6 0 1 1 12 0v6a2.5 2.5 0 0 1-2.5 2.5H9.366a1 1 0 0 1-.866.5h-1a1 1 0 1 1 0-2h1a1 1 0 0 1 .866.5H11.5A1.5 1.5 0 0 0 13 12h-1a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h1V6a5 5 0 0 0-5-5z"/>
        </svg>
    `,e.SUPPORT_ACTIONS.TITLE,()=>this.redirectSupport()),this._aboutView&&i.addOption(`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-exclamation-circle invox-bar-icon__about" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
        </svg>
    `,e.ABOUT_ACTIONS.TITLE,()=>this._aboutView.show()),i.create()}tryGetUserGuideHelpUrl(){try{return INVOX.GetUserGuideHelpUrl()}catch(e){return""}}redirectHelpGuide(){try{INVOX.ShowHelp()}catch(e){INVOX.LogError(`Unable to show help. Error: ${e}`),INVOX.LogWarn("You can define this behaviour using INVOX.OnShowHelp from the INVOX Medical SDK.")}}redirectSupport(){let e=INVOX.GetSupportUrl();window.open(e,"_blank")}componentWillUnmount(){this._aboutView.remove(),this._profileView.remove(),this._dictionaryView.remove(),this._templatesView.remove(),this._transformationsView.remove()}};customElements.define("invox-adaptation-spinner",T);var A=class extends a{constructor(e,i){super(e);this._viewManager=i,this._invoxBarId="invox-bar-content",this._currentView=void 0,this._previewsView=void 0}getId(){return this._invoxBarId}create(e){INVOX.LogDebug("Creating INVOX Bar..."),this.invoxBarElement=document.createElement("div"),this.invoxBarElement.id=this._invoxBarId,this.invoxBarElement.setAttribute("class","invox-bar__container");let i=o.getElement(e);i==null||i.appendChild(this.invoxBarElement),this.componentDidMount()}remove(){o.removeElement(this._invoxBarId)}show(){this.invoxBarElement.classList.contains("active")||this.invoxBarElement.classList.add("active")}hide(){this.invoxBarElement.classList.contains("active")&&this.invoxBarElement.classList.remove("active")}refresh(){if(this._currentView)try{this.removeContent(),this._currentView.create(this._invoxBarId)}catch(e){INVOX.LogFatal(`An error occurred during view creation. Error: ${e}`)}}nextView(){var e;(e=this._currentView)==null||e.next()}setCurrentView(e){var i;(i=this._currentView)==null||i.destroy(),this._previewsView=this._currentView,this._currentView=e}componentDidMount(){}componentWillUnmount(){}removeContent(){o.getElement(this._invoxBarId).innerHTML=""}};var N=class extends u{constructor(e,i){super(e);this._viewManager=i,this.initComponent()}initComponent(){this.setClass("invox-bar__loading-view"),this.setNextView(()=>this._viewManager.printHomeView())}createContent(){this._percentElement=document.createElement("label"),this._percentElement.setAttribute("class","invox-bar__progressbar-percent"),this._percentElement.innerText="0%",this._statusMessageElement=document.createElement("label"),this._statusMessageElement.setAttribute("class","invox-bar__progressbar-message"),this._messageContainerElement=document.createElement("div"),this._messageContainerElement.setAttribute("class","invox-bar__progressbar-error"),this._messageContainerElement.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-exclamation-circle-fill invox-bar-icon__error" viewBox="0 0 16 16">
            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
        </svg>
    `,this._messageContainerElement.appendChild(this._statusMessageElement);let e=document.createElement("div");return e.appendChild(this._percentElement),e.appendChild(this._messageContainerElement),this._progressBarElement=document.createElement("span"),this._progressBarElement.setAttribute("class","invox-bar__progressbar-width"),this.customizeLoading(),[e,this._progressBarElement]}customizeLoading(){INVOX.CustomizeComponents(()=>{INVOX.OnChangeProgressBar(e=>this.updateProgressBar(e)),INVOX.OnChangeStatusBar((e,i)=>this.printStatus(e,i)),INVOX.OnFinishProgressBar(()=>this._viewManager.printNextView()),INVOX.OnStartedRecognizer(()=>INVOX.SetDictationPaused())})}updateProgressBar(e){let i=+e.Percent<=100?`${+e.Percent}%`:"100%";this._percentElement.innerText=i,this._progressBarElement.style.width=i}printStatus(e,i){let n=e;i===INVOX.StatusMessageTypeEnum.ERROR&&(INVOX.LogError(`Loading error: ${e}`),this.changeStyleToError(),e=r(e)),this._statusMessageElement.innerText=e,this._statusMessageElement.title=n;function r(d){return d.replace(/(\r\n|\n)/g,"")}}changeStyleToError(){this._messageContainerElement.classList.contains("active")||this._messageContainerElement.classList.add("active")}};var B=class extends u{constructor(t,e){super(t),this._viewManager=e,this.initComponent()}initComponent(){this.setClass("invox-bar__splash-screen-view"),this.setNextView(()=>this._viewManager.printLoadingView())}createContent(){return[new _().create()]}};var c=class{static isAnyModuleLoaded(){return INVOX.LogDebug("Checking dialog modules..."),c.isDictionaryModuleLoaded()||c.isTemplateModuleLoaded()||c.isTransformationsModuleLoaded()}static createDictionaryDialog(t){return c.getDictionaryModule().create(t)}static createTransformationsDialog(t){return c.getTransformationsModule().create(t)}static createTemplatesDialog(t){return c.getTemplatesModule().create(t)}static isDictionaryModuleLoaded(){let t=c.getDictionaryModule();return c.checkModule(t)}static isTemplateModuleLoaded(){let t=c.getTemplatesModule();return c.checkModule(t)}static isTransformationsModuleLoaded(){let t=c.getTransformationsModule();return c.checkModule(t)}static getDictionaryModule(){try{return typeof INVOXMDComponent_Dictionary>"u"||!INVOXMDComponent_Dictionary?void 0:(INVOX.LogDebug("Dictionary module is loaded"),INVOXMDComponent_Dictionary)}catch(t){INVOX.LogDebug("Dictionary module is not loaded");return}}static getTemplatesModule(){try{return typeof INVOXMDComponent_Templates>"u"||!INVOXMDComponent_Templates?void 0:(INVOX.LogDebug("Templates module is loaded"),INVOXMDComponent_Templates)}catch(t){INVOX.LogDebug("Templates module is not loaded");return}}static getTransformationsModule(){try{return typeof INVOXMDComponent_Transformations>"u"||!INVOXMDComponent_Transformations?void 0:(INVOX.LogDebug("Transformations module is loaded"),INVOXMDComponent_Transformations)}catch(t){INVOX.LogDebug("Transformations module is not loaded");return}}static checkModule(t){return!(!t||!(t!=null&&t.productName)||typeof(t==null?void 0:t.productName)!="string"||!(t!=null&&t.productName.includes(INVOX.productName))||!(t!=null&&t.commit)||typeof(t==null?void 0:t.commit)!="string"||!(t!=null&&t.version)||typeof(t==null?void 0:t.version)!="string")}};var b=class{constructor(t,e){if(!INVOX||typeof INVOX!="object"||!("version"in INVOX))throw new Error("The INVOX SDK is undefined. Load INVOX from your index.html.");if(!e)throw new Error("Container id cannot be null or undefined");if(!o.existsElement(e))throw new Error(`Container element with id ${e} not found`);this._idCollection=t}show(){this._viewManager.show()}hide(){this._viewManager.hide()}};var S=(e=>(e.Dialog="invox-about-dialog",e.ViewContent="invox-about-view-content",e))(S||{});var g=class extends a{constructor(t){super(t)}create(t){let e=o.getElement(t);e.innerHTML="";let i=this.printHeader(),n=this.printBody(),r=this.printFooter();e&&i&&e.appendChild(i),e&&n&&e.appendChild(n),e&&r&&e.appendChild(r),this.componentDidMount()}printHeader(){}printBody(){}printFooter(){}componentDidMount(){}};var H=class extends g{constructor(e,i){super(e);this._companyName="Vócali Sistemas Inteligentes SL";this._companyPageLink="https://vocali.net/";this._productPageLink="https://www.invoxmedical.com"}_CurrentYear(){return new Date().getFullYear()}createProductLink(){let e=document.createElement("a");return e.style.alignSelf="center",e.href=this._productPageLink,e.title=this._productPageLink,e.target="_blank",e.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 723 768" style="enable-background:new 0 0 723 768;" class="invox-bar-icon__invox-medical" xml:space="preserve">
            <style type="text/css">
                .st0{fill:#8FCBB7;}
                .st1{fill:#83AEDD;}
                .st2{fill:#FFFFFF;}
                .st3{fill:url(#SVGID_1_);}
                .st4{fill:#64605F;}
            </style>
            <g>
                <path class="st0" d="M653.4,190.8c0,97-78.7,175.7-175.7,175.7c-97.1,0-175.7-78.7-175.7-175.7C301.9,93.7,380.6,15,477.6,15C574.7,15,653.4,93.7,653.4,190.8z"/>
                <path class="st1" d="M653.6,371.6c0,44.6-36.2,80.9-80.8,80.9c-44.6,0-80.8-36.2-80.8-80.9s36.2-80.8,80.8-80.8C617.4,290.7,653.6,326.9,653.6,371.6z"/>
                <g transform="translate(1 1)">
                    <path class="st2" d="M502.6,177.4h43.3c5.2,0,8.6-3.5,8.6-8.7c0-5.2-3.4-8.7-8.6-8.7h-43.3c-5.2,0-8.7,3.5-8.7,8.7C494,174,497.4,177.4,502.6,177.4z"/>
                    <path class="st2" d="M407.4,177.4H468c5.2,0,8.7-3.5,8.7-8.7c0-5.2-3.5-8.7-8.7-8.7h-60.6c-5.2,0-8.7,3.5-8.7,8.7C398.7,174,402.2,177.4,407.4,177.4z"/>
                    <path class="st2" d="M545.9,203.4h-8.7c-5.2,0-8.6,3.5-8.6,8.6c0,5.2,3.5,8.7,8.6,8.7h8.7c5.2,0,8.6-3.5,8.6-8.7C554.5,206.9,551.1,203.4,545.9,203.4z"/>
                    <path class="st2" d="M459.3,212.1c0,5.2,3.5,8.6,8.7,8.6h34.6c5.2,0,8.7-3.5,8.7-8.6c0-5.2-3.5-8.7-8.7-8.7H468C462.8,203.4,459.3,206.9,459.3,212.1z"/>
                    <path class="st2" d="M407.4,220.7h26c5.2,0,8.6-3.5,8.6-8.6c0-5.2-3.5-8.7-8.6-8.7h-26c-5.2,0-8.7,3.5-8.7,8.7C398.7,217.2,402.2,220.7,407.4,220.7z"/>
                    <path class="st2" d="M545.9,246.7h-26c-5.2,0-8.6,3.5-8.6,8.7c0,5.2,3.5,8.7,8.6,8.7h26c5.2,0,8.6-3.5,8.6-8.7C554.5,250.1,551.1,246.7,545.9,246.7z"/>
                    <path class="st2" d="M407.4,264h77.9c5.2,0,8.7-3.5,8.7-8.7c0-5.2-3.5-8.7-8.7-8.7h-77.9c-5.2,0-8.7,3.5-8.7,8.7C398.7,260.6,402.2,264,407.4,264z"/>
                    <path class="st2" d="M398.7,124.1c0,5.2,3.5,8.7,8.7,8.7h26c5.2,0,8.7-3.5,8.7-8.7c0-5.2-3.5-8.7-8.7-8.7h-26C402.2,115.5,398.7,119,398.7,124.1z"/>
                    <path class="st2" d="M554.6,124.1c0-5.2-3.5-8.7-8.7-8.7H468c-5.2,0-8.7,3.5-8.7,8.7c0,5.2,3.5,8.7,8.7,8.7h77.9C551.1,132.8,554.6,129.3,554.6,124.1z"/>
                </g>
                <g>
                    <g>
                        <linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="4735.5044" y1="-6471.6436" x2="4895.4233" y2="-6663.5464" gradientTransform="matrix(-1 0 0 -1 5002.7773 -6239.2129)">
                            <stop  offset="0" style="stop-color:#DEDEDE"/>
                            <stop  offset="1" style="stop-color:#A3A3A3"/>
                        </linearGradient>
                        <path class="st3" d="M185.9,454H245c71.7,0,129.7-58.1,129.7-129.7v-59.4c0-71.6-58.1-129.7-129.7-129.7h-59.2c-71.7,0-129.7,58.1-129.7,129.7v59.4C56.1,395.9,114.2,454,185.9,454z M111.9,275.4c0-46.6,37.8-84.3,84.3-84.3h38.5c46.6,0,84.3,37.8,84.3,84.3v38.6c0,46.5-37.8,84.3-84.3,84.3h-38.5c-46.6,0-84.3-37.8-84.3-84.3V275.4z"/>
                    </g>
                    <g>
                        <defs>
                            <path id="SVGID_2_" d="M111.6,313.9v-38.5c0-46.5,37.7-84.1,84.1-84.1h38.4c46.5,0,84.1,37.7,84.1,84.1v38.5c0,46.5-37.7,84.1-84.1,84.1h-38.4C149.3,398,111.6,360.3,111.6,313.9 M185.4,135.6C114,135.6,56,193.5,56,265v59.2c0,71.5,58,129.5,129.4,129.5h59.1c71.5,0,129.4-58,129.4-129.5V265c0-71.5-58-129.4-129.4-129.4H185.4z"/>
                        </defs>
                        <clipPath id="SVGID_3_">
                            <use xlink:href="#SVGID_2_"  style="overflow:visible;"/>
                        </clipPath>
                    </g>
                    <g>
                        <defs>
                            <path id="SVGID_4_" d="M163.8,304.4v-19.3c0-23.3,18.8-42.2,42.1-42.2h19.2c23.2,0,42.1,18.9,42.1,42.2v19.3c0,23.3-18.8,42.3-42.1,42.3h-19.2C182.6,346.7,163.8,327.8,163.8,304.4 M196.2,191c-46.5,0-84.1,37.8-84.1,84.5v38.6c0,36.7,23.3,67.9,55.8,79.6c-4.8,10.6-13.6,20.9-23.2,29.4c13-2.9,28.5-12,41.3-25.1c3.3,0.4,6.8,0.6,10.2,0.6h38.5c46.5,0,84.1-37.8,84.1-84.5v-38.6c0-46.6-37.7-84.5-84.1-84.5H196.2z"/>
                        </defs>
                        <use xlink:href="#SVGID_4_"  style="overflow:visible;fill:#6D7CBA;"/>
                        <clipPath id="SVGID_5_">
                            <use xlink:href="#SVGID_4_"  style="overflow:visible;"/>
                        </clipPath>
                    </g>
                </g>
                <g>
                    <path class="st1" d="M341.3,713.3l-17.8,36h-8.8l-17.7-36v41.5h-14.7v-65.9h19.9l17,36.2l17.1-36.2H356v65.9h-14.7V713.3z"/>
                    <path class="st1" d="M414.7,747.4c-5.7,5.4-12.4,8.1-20.1,8.1c-7.7,0-14.1-2.4-19.1-7.1c-5-4.7-7.5-11.1-7.5-19.1c0-8,2.6-14.3,7.7-19c5.1-4.7,11.2-7.1,18.1-7.1c7,0,12.9,2.1,17.8,6.3c4.9,4.2,7.3,10,7.3,17.3v7.5h-36.9c0.4,2.8,1.9,5,4.3,6.8c2.4,1.8,5.2,2.6,8.3,2.6c5,0,9.1-1.7,12.3-5L414.7,747.4z M401.2,717.4c-1.9-1.6-4.3-2.5-7.1-2.5c-2.8,0-5.4,0.8-7.7,2.5c-2.3,1.7-3.7,4-4.1,6.9h22.2C404.3,721.3,403.1,719,401.2,717.4z"/>
                    <path class="st1" d="M449.4,755.5c-6,0-11.3-2.5-16.1-7.6c-4.7-5.1-7.1-11.4-7.1-18.9c0-7.5,2.3-13.7,6.9-18.5c4.6-4.8,10-7.2,16.1-7.2c6.2,0,11.2,2.2,15.1,6.5v-24.9h14.1v69.9h-14.1v-6.7C460.4,753,455.4,755.5,449.4,755.5z M440.5,729.5c0,4.1,1.2,7.4,3.7,10c2.4,2.6,5.3,3.9,8.6,3.9c3.3,0,6-1.3,8.3-3.9c2.3-2.6,3.4-6,3.4-10.1c0-4.1-1.1-7.5-3.4-10.3c-2.3-2.7-5.1-4.1-8.4-4.1c-3.3,0-6.2,1.4-8.6,4.1C441.7,722,440.5,725.4,440.5,729.5z"/>
                    <path class="st1" d="M493,697.6c-1.6-1.6-2.4-3.6-2.4-5.9c0-2.3,0.8-4.3,2.4-5.9c1.6-1.6,3.6-2.4,5.9-2.4c2.3,0,4.3,0.8,5.9,2.4c1.6,1.6,2.4,3.6,2.4,5.9c0,2.3-0.8,4.3-2.4,5.9c-1.6,1.6-3.6,2.4-5.9,2.4C496.6,700,494.6,699.2,493,697.6z M506,754.8h-14.1v-50.7H506V754.8z"/>
                    <path class="st1" d="M543.7,743c4.7,0,8.9-2.4,12.7-7.1l8.4,9.4c-6.5,6.8-13.6,10.2-21.2,10.2c-7.6,0-14-2.4-19.3-7.2c-5.2-4.8-7.9-11.1-7.9-18.8s2.7-14.1,8-18.9c5.3-4.9,11.6-7.3,18.9-7.3c3.6,0,7.3,0.8,11.1,2.3c3.7,1.5,7,3.7,9.8,6.7l-7.4,9.6c-1.6-1.9-3.6-3.5-6-4.5c-2.3-1.1-4.7-1.6-7-1.6c-3.7,0-6.9,1.2-9.6,3.6c-2.7,2.4-4,5.8-4,10.1c0,4.3,1.3,7.7,4,10C537,741.8,540.1,743,543.7,743z"/>
                    <path class="st1" d="M617.3,754.8H604v-6.1c-3.6,4.6-8.2,6.9-13.5,6.9c-5.4,0-9.9-1.6-13.5-4.7c-3.6-3.1-5.5-7.3-5.5-12.4c0-5.2,1.9-9.1,5.7-11.6c3.8-2.6,8.9-3.9,15.5-3.9h10.6v-0.3c0-5.4-2.9-8.1-8.6-8.1c-2.4,0-5,0.5-7.8,1.5c-2.7,1-5,2.2-6.9,3.6l-6.3-9.1c6.7-4.8,14.3-7.3,22.8-7.3c6.2,0,11.2,1.5,15.1,4.6c3.9,3.1,5.8,7.9,5.8,14.6V754.8z M603,735.4V733h-8.9c-5.7,0-8.5,1.8-8.5,5.3c0,1.8,0.7,3.2,2,4.2c1.4,1,3.3,1.5,5.8,1.5c2.5,0,4.7-0.8,6.6-2.3C602.1,740.1,603,738,603,735.4z"/>
                    <path class="st1" d="M644.3,754.8h-14.1v-69.9h14.1V754.8z"/>
                </g>
                <g>
                    <path class="st4" d="M73.2,511.9h20.9v124H73.2V511.9z"/>
                    <path class="st4" d="M221.6,511.9h20.9v124h-22.7l-70.3-90.5v90.5h-20.9v-124h20.9l72,92.6V511.9z"/>
                    <path class="st4" d="M333.5,635.9h-23.4l-49.9-124h23.4l38.2,92.6l38.2-92.6h23.4L333.5,635.9z"/>
                    <path class="st4" d="M502.8,618.8c-12.5,12.2-28,18.4-46.5,18.4c-18.4,0-33.9-6.1-46.5-18.4C397.3,606.6,391,591.3,391,573c0-18.3,6.3-33.5,18.8-45.8c12.5-12.2,28-18.4,46.5-18.4c18.5,0,34,6.1,46.5,18.4c12.5,12.2,18.8,27.5,18.8,45.8C521.6,591.3,515.3,606.6,502.8,618.8z M487.5,541.2c-8.5-8.8-18.8-13.1-31.1-13.1c-12.3,0-22.7,4.4-31.1,13.1c-8.5,8.8-12.7,19.4-12.7,31.9c0,12.5,4.2,23.1,12.7,31.8c8.5,8.7,18.8,13.1,31.1,13.1c12.3,0,22.7-4.4,31.1-13.1c8.5-8.8,12.7-19.4,12.7-31.8C500.1,560.5,495.9,549.9,487.5,541.2z"/>
                    <path class="st4" d="M617.1,635.9l-30.5-46.7h-0.9l-30.5,46.7h-26.1l42.6-63.7l-39.6-60.3H558l27.7,41.9h0.9l27.7-41.9h25.9l-39.6,60.3l42.6,63.7H617.1z"/>
                </g>
            </g>
        </svg>
    `,e}printBody(){let e=document.createElement("div");return e.setAttribute("class","invox-bar__about-view-body"),e.appendChild(this.createProductLink()),e.appendChild(this.createProductVersion()),e.appendChild(this.createCopyright()),e}createProductVersion(){let e="SDK",i=INVOX.version,n=this.getServiceName(),r=this.getServiceVersion(),d=INVOX.commit,V=document.createElement("section");return V.innerHTML=`
            <small class="invox-bar__about-content-line">
                ${e}
                <strong>${i}</strong>
            </small>
            <small class="invox-bar__about-content-line">
                ${n}
                <strong>${r}</strong>
            </small>
            <small>${d}</small>
        `,V}createCopyright(){let e=document.createElement("small");return e.setAttribute("class","invox-bar__about-copyright"),e.innerHTML=`
            <a href="${this._companyPageLink}" title="${this._companyPageLink}" target="_blank">
                ${this._companyName}
            </a>
            &copy; ${this._CurrentYear()} 
        `,e}getServiceVersion(){let e=INVOX.GetCurrentSession();return e.UseAgent?e.AgentVersion:e.SWSVersion}getServiceName(){return INVOX.GetCurrentSession().UseAgent?"Local Dictation Service":"Remote Dictation Service"}};var z=class extends a{constructor(){super();this._classList=[],this.initComponent()}setTooltip(e){return this._tooltip=e,this}setIcon(e){this._icon=e}setClassList(...e){this._classList=this._classList.concat(e)}setLabel(e){return this._label=e,this}setCallback(e){return this._callback=e,this}create(){let e=this.createElement();return this.addEvent(e,"click",()=>this.setBehaviour(e)),e}createElement(){let e=document.createElement("button");return this._classList&&this._classList.length>0&&this._classList.forEach(i=>e.classList.add(i)),this._tooltip&&(e.title=this._tooltip),e.innerHTML=this.createLabel(),e}createLabel(){let e="";return this._icon&&(e=this._icon),this._label&&(e+=`<label>${this._label}</label>`),e}setBehaviour(e){this._callback()}};var X=class extends z{initComponent(){this.setIcon(`
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-x-lg invox-dialog-icon__close" viewBox="0 0 16 16">
            <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
        </svg>
    `),this.setClassList("invox-base-no-background-button")}};var w=class extends g{constructor(e,i){super(e);this._viewManager=i,this._dialogId=i.getDialogId(),this._dialogViewId=i.getDialogViewId(),this._currentView=void 0,this._previousView=void 0,this._isResizableDialog=!1,this.initComponent()}get _DialogLayerElement(){return o.getElement(this._dialogId)}get _DialogElement(){let e=this._DialogLayerElement;return e==null?void 0:e.children.dialog}setCustomClass(e){this._extraClass=e}setResizableDialog(){this._isResizableDialog=!0}create(e){let i=document.createElement("aside");i.setAttribute("name","dialog"),i.classList.add("invox-dialog__dialog-container"),this._extraClass&&i.classList.add(this._extraClass),this._isResizableDialog&&i.classList.add("invox-dialog__dialog-container--resizable"),i.appendChild(this.printHeader()),i.appendChild(this.printBody());let n=document.createElement("div");n.setAttribute("id",this._dialogId),n.setAttribute("class","invox-dialog__root-layer"),n.appendChild(i);let r=o.getElement(e);r==null||r.appendChild(n),this.componentDidMount()}refresh(){if(this._currentView)try{this._currentView.create(this._dialogViewId)}catch(e){INVOX.LogFatal(`An error occurred during view creation. Error: ${e}`)}}setCurrentView(e){this._previousView=this._currentView,this._currentView=e}getPreviousView(){return this._previousView}printHeader(){let e=document.createElement("header");e.classList.add("invox-dialog__dialog-header"),e.innerHTML=`
            <div class="invox-dialog__dialog-header-title">
                ${`
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 84.7 84.9" class="invox-dialog-icon__brand">
            <g>
                <path d="M49.9,1.8H34.7C16.3,1.8,1.3,16.7,1.3,35.1v15.3c0,18.4,14.9,33.3,33.4,33.3h15.2c18.4,0,33.3-14.9,33.3-33.3V35.1C83.3,16.7,68.3,1.8,49.9,1.8z M68.9,47.7c0,12-9.7,21.7-21.7,21.7h-9.9c-0.9,0-1.8-0.1-2.7-0.2c-3.3,3.3-7.2,5.6-10.6,6.4c2.5-2.2,4.7-4.8,5.9-7.5c-8.4-3-14.4-11-14.4-20.4v-9.9c0-12,9.7-21.7,21.7-21.7h9.9c12,0,21.7,9.7,21.7,21.7V47.7z"/>
                <path d="M29,45.2v-4.9c0-6,4.8-10.8,10.8-10.8h5c6,0,10.8,4.8,10.8,10.8v4.9c0,6-4.8,10.8-10.8,10.8h-5C33.8,56,29,51.2,29,45.2"/>
            </g>
        </svg>
    `}
                <label> ${this._langResources.TITLE} </label>
            </div>
        `,this.createExtraHeaderButtons().forEach(r=>e.appendChild(r));let n=new X().setTooltip(this._langResources.CLOSE.TOOLTIP).setCallback(()=>this.closeDialog()).create();return e.appendChild(n),e}createExtraHeaderButtons(){return[]}printBody(){let e=document.createElement("main");return e.id=this._dialogViewId,e.classList.add("invox-dialog-body-container"),e}componentDidMount(){this._DialogLayerElement.tabIndex="-1",this._DialogLayerElement.focus(),this.addEvent(this._DialogLayerElement,"keyup",e=>this.closeDialogByESC(e))}closeDialogByESC(e){e.key==="Escape"&&(INVOX.LogInfo("Closing dialog by clicking ESC"),this._viewManager&&this._viewManager.hide())}closeDialog(){INVOX.LogInfo("Closing dialog by header button"),this._viewManager&&this._viewManager.hide()}};var R=class{get _LangResources(){return l.getLangResources().ABOUT_ACTIONS}createDialog(t){INVOX.LogDebug("Creating About dialog...");let e=new w(this._LangResources,t);return e.setCustomClass("invox-bar__about-layer"),e}createContent(t){return INVOX.LogDebug("Creating About view..."),new H(this._LangResources,t)}};var E=class{get _ExistsDialogElement(){return o.existsElement(this._dialogId)}get _DialogElement(){return o.getElement(this._dialogId)}getDialogId(){return this._dialogId}getDialogViewId(){return this._dialogViewId}create(){this.printDefaultView()}show(){this._DialogElement.classList.contains("active")||(this.refreshCurrentView(),this._DialogElement.classList.add("active"),function(){document.body.style.position="sticky",document.body.style.overflow="hidden"}())}hide(){if(!this._ExistsDialogElement){INVOX.LogWarning("The dialogue cannot be closed because it does not exist or is already hidden");return}this._DialogElement.classList.contains("active")&&this._DialogElement.classList.remove("active"),function(){document.body.style.position="",document.body.style.overflow=""}(),this._onCloseDialog&&this._onCloseDialog()}remove(){if(!this._ExistsDialogElement)throw new Error("Element cannot be null or undefined");this._DialogElement.remove()}refreshCurrentView(){this._dialogElement&&this._dialogElement.refresh()}printDefaultView(){throw new Error("Not implemented exception")}setOnCloseDialog(t){this._onCloseDialog=t}setView(t){this._ExistsDialogElement||(this._dialogElement=this._viewCreator.createDialog(this),this._dialogElement.create(this._containerElementId)),this._dialogElement.setCurrentView(t),this._dialogElement.refresh()}};var P=class extends E{constructor(e){super();this._containerElementId=e,this._dialogId="invox-about-dialog",this._dialogViewId="invox-about-view-content",this._viewCreator=new R}printDefaultView(){this.printContent()}printContent(){let e=this._viewCreator.createContent(this);this.setView(e)}};var p=class extends b{constructor(t){super(S,t),this._viewManager=new P(t),this._viewManager.create()}static create(t){return p._instance||(p._instance=new p(t))}remove(){this._viewManager.remove(),p._instance=void 0}};var k=(e=>(e.Dialog="invox-profile-dialog",e.ViewContent="invox-profile-view-content",e))(k||{});var F=class extends g{constructor(e,i){super(e);let n=INVOX.GetUserInfo();this._login=(n==null?void 0:n.Login)||"-",this._email=(n==null?void 0:n.Email)||"-",this._fullname=(n==null?void 0:n.Name)||"-",this._specialty=(n==null?void 0:n.Specialty)||"-",this._organization=(n==null?void 0:n.Organization)||"-",this._lastLogin=(n==null?void 0:n.LastLogin)||""}printBody(){let e=document.createElement("div");return e.setAttribute("class","invox-bar__profile-view-body"),e.appendChild(this.createField(this._langResources.LOGIN,this._login)),e.appendChild(this.createField(this._langResources.EMAIL,this._email)),e.appendChild(this.createField(this._langResources.NAME,this._fullname)),e.appendChild(this.createField(this._langResources.SPECIALTY,this._specialty)),e.appendChild(this.createField(this._langResources.ORGANIZATION,this._organization)),e.appendChild(this.createField(this._langResources.LAST_LOGIN,this.formatLastLogin(this._lastLogin))),e}createField(e,i){let n=document.createElement("div");return n.setAttribute("class","invox-bar__profile-field"),n.innerHTML=`
            <label>
                <small>
                    ${e}
                </small>
            </label>
            <p>${i}</p>
        `,n}formatLastLogin(e){if(e==="")return"-";let i={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"};return new Date(e).toLocaleDateString(INVOX.GetCurrentLang(),i)}};var G=class{get _LangResources(){return l.getLangResources().PROFILE_ACTIONS}createDialog(t){INVOX.LogDebug("Creating Profile dialog...");let e=new w(this._LangResources,t);return e.setCustomClass("invox-bar__profile-layer"),e}createContent(t){return INVOX.LogDebug("Creating Profile view..."),new F(this._LangResources,t)}};var $=class extends E{constructor(e){super();this._containerElementId=e,this._dialogId="invox-profile-dialog",this._dialogViewId="invox-profile-view-content",this._viewCreator=new G}printDefaultView(){this.printContent()}printContent(){let e=this._viewCreator.createContent(this);this.setView(e)}};var h=class extends b{constructor(t){super(k,t),this._viewManager=new $(t),this._viewManager.create()}static create(t){return h._instance||(h._instance=new h(t))}remove(){this._viewManager.remove(),h._instance=void 0}};var U=class{get _LangResources(){return l.getLangResources().INVOXBAR_ACTIONS}createContainer(t){return new A(this._LangResources,t)}createSplashScreenView(t){return new B(this._LangResources,t)}createLoadingView(t){return new N(this._LangResources,t)}createHomeView(t){let e=new D(this._LangResources,t);return c.isDictionaryModuleLoaded()&&e.setDictionaryBuilder(c.createDictionaryDialog),c.isTemplateModuleLoaded()&&e.setTemplatesBuilder(c.createTemplatesDialog),c.isTransformationsModuleLoaded()&&e.setTransformationsBuilder(c.createTransformationsDialog),e.setProfileViewBuilder(this.createProfileDialog),e.setAboutViewBuilder(this.createAboutDialog),e}createAboutDialog(t){try{return p.create(t)}catch(e){INVOX.LogError(`Unable to create About dialog. Error: ${e}`)}}createProfileDialog(t){try{return h.create(t)}catch(e){INVOX.LogError(`Unable to create Profile dialog. Error: ${e}`)}}};var q=class{constructor(t){this._containerDestinationId=t,this._viewCreator=new U}get _ExistsINVOXBarElement(){return this._invoxBarElement&&o.existsElement(this._invoxBarElement.getId())}getContainerId(){return this._invoxBarElement.getId()}create(){this.printSplashScreenView()}show(){this._invoxBarElement.show()}hide(){this._invoxBarElement.hide()}remove(){if(!this._ExistsINVOXBarElement)throw new Error("Element cannot be null or undefined");this._invoxBarElement.remove()}printNextView(){this._invoxBarElement.nextView()}printSplashScreenView(){let t=this._viewCreator.createSplashScreenView(this);this.setView(t),INVOX.LogDebug("Splash Screen view created successfully")}printLoadingView(){let t=this._viewCreator.createLoadingView(this);this.setView(t),INVOX.LogDebug("Loading view created successfully")}printHomeView(){let t=this._viewCreator.createHomeView(this);this.setView(t),INVOX.LogDebug("Home view created successfully")}setView(t){this._ExistsINVOXBarElement||(this._invoxBarElement=this._viewCreator.createContainer(this),this._invoxBarElement.create(this._containerDestinationId)),this._invoxBarElement.setCurrentView(t),this._invoxBarElement.refresh()}};var v=class{constructor(t){if(!INVOX||typeof INVOX!="object"||!("version"in INVOX))throw new Error("The INVOX SDK is undefined. Load INVOX from your index.html.");if(!t)throw new Error("Destination element id cannot be null or undefined");if(!o.existsElement(t))throw new Error(`Destination element with id ${t} not found`);this._viewManager=new q(t),this._viewManager.create()}static create(t){return v._instance||(v._instance=new v(t))}show(){this._viewManager.show()}hide(){this._viewManager.hide()}remove(){this._viewManager.remove(),v._instance=void 0}login(t,e){return this._viewManager.printLoadingView(),INVOX.Login(t,e)}logout(){return new Promise((t,e)=>{INVOX.Logout().then(()=>{this._viewManager.printSplashScreenView(),t(!0)}).catch(i=>{e(i)})})}},ee=v.create;return oe(ae);})();
